<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>NFT Marketplace App</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        :root { --bg: #111111; --card-bg: #1c1c1c; --text: #ffffff; --accent: #0088cc; --green: #4caf50; }
        body { font-family: 'Inter', sans-serif; background: var(--bg); color: var(--text); margin: 0; padding: 15px; -webkit-user-select: none; }
        .card { background: var(--card-bg); border-radius: 16px; padding: 15px; margin-bottom: 15px; border: 1px solid #333; }
        .nft-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }
        .nft-item { background: var(--card-bg); border-radius: 12px; padding: 10px; text-align: center; border: 1px solid #222; }
        .nft-item img { width: 100%; border-radius: 8px; margin-bottom: 8px; }
        .price { color: var(--green); font-weight: bold; margin: 8px 0; }
        .btn { background: var(--accent); color: white; border: none; padding: 10px; width: 100%; border-radius: 10px; font-weight: 600; cursor: pointer; }
        .btn-wallet { background: #333; margin-top: 10px; }
        
        /* –í–∫–ª–∞–¥–∫–∏ */
        .tab-content { display: none; }
        .tab-content.active { display: block; animation: fadeIn 0.2s ease; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        /* –ù–∞–≤–∏–≥–∞—Ü–∏—è */
        .nav { position: fixed; bottom: 0; left: 0; width: 100%; background: #181818; display: flex; border-top: 1px solid #333; padding: 10px 0; padding-bottom: 25px; }
        .nav-item { flex: 1; text-align: center; color: #666; font-size: 11px; cursor: pointer; }
        .nav-item.active { color: var(--accent); }
        .nav-icon { font-size: 20px; display: block; margin-bottom: 4px; }
    </style>
</head>
<body>

<div id="market" class="tab-content active">
    <h2 style="text-align: center;">‚ú® NFT STARS</h2>
    <div class="nft-grid">
        <div class="nft-item">
            <div style="font-size: 40px;">‚≠ê</div>
            <div>–ó–≤–µ–∑–¥–∞ 100</div>
            <div class="price">100.00 $</div>
            <button class="btn" onclick="buy('–ó–≤–µ–∑–¥–∞ 100', 100)">–ö—É–ø–∏—Ç—å</button>
        </div>
        <div class="nft-item">
            <div style="font-size: 40px;">üåü</div>
            <div>–ó–≤–µ–∑–¥–∞ 500</div>
            <div class="price">500.00 $</div>
            <button class="btn" onclick="buy('–ó–≤–µ–∑–¥–∞ 500', 500)">–ö—É–ø–∏—Ç—å</button>
        </div>
        <div class="nft-item">
            <div style="font-size: 40px;">üí´</div>
            <div>–ó–≤–µ–∑–¥–∞ 1000</div>
            <div class="price">1000.00 $</div>
            <button class="btn" onclick="buy('–ó–≤–µ–∑–¥–∞ 1000', 1000)">–ö—É–ø–∏—Ç—å</button>
        </div>
        <div class="nft-item">
            <div style="font-size: 40px;">üíé</div>
            <div>–ó–≤–µ–∑–¥–∞ 1500</div>
            <div class="price">1500.00 $</div>
            <button class="btn" onclick="buy('–ó–≤–µ–∑–¥–∞ 1500', 1500)">–ö—É–ø–∏—Ç—å</button>
        </div>
    </div>
</div>

<div id="profile" class="tab-content">
    <h2>üë§ –ü—Ä–æ—Ñ–∏–ª—å</h2>
    <div class="card">
        <p>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: <b id="u-name">–ó–∞–≥—Ä—É–∑–∫–∞...</b></p>
        <p>ID: <span id="u-id">---</span></p>
        <hr style="border: 0.1px solid #333;">
        <p>–ë–∞–ª–∞–Ω—Å: <b class="price">0.00 $</b></p>
        <p>–°—Ç–∞—Ç—É—Å: <span style="color: #ff4d4d;">–ù–µ –≤–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω</span></p>
        <button class="btn" onclick="tg.showAlert('–î–ª—è –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É @–í–∞—à_–ù–∏–∫')">–ü—Ä–æ–π—Ç–∏ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—é</button>
    </div>
</div>

<div id="wallet" class="tab-content">
    <h2>üí≥ –ö–æ—à–µ–ª–µ–∫</h2>
    <div class="card">
        <h3>–ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ —Å—á–µ—Ç–∞</h3>
        <button class="btn" style="background: #4caf50;" onclick="sendToBot('pay_card')">–ö–∞—Ä—Ç–∞ RU/MIR</button>
        <button class="btn" style="background: #f39c12; margin-top: 10px;" onclick="sendToBot('pay_crypto')">USDT (TRC-20)</button>
    </div>
    <div class="card">
        <h3>–í—ã–≤–æ–¥ —Å—Ä–µ–¥—Å—Ç–≤</h3>
        <p style="font-size: 13px; color: #888;">–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å—É–º–º–∞ –≤—ã–≤–æ–¥–∞: 50.00 $</p>
        <button class="btn btn-wallet" onclick="tg.showAlert('–û—à–∏–±–∫–∞: –í—ã–≤–æ–¥ –¥–æ—Å—Ç—É–ø–µ–Ω —Ç–æ–ª—å–∫–æ –≤–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º.')">–í—ã–≤–µ—Å—Ç–∏ –Ω–∞ –∫–∞—Ä—Ç—É</button>
    </div>
</div>

<div class="nav">
    <div class="nav-item active" onclick="showTab('market', this)"><span class="nav-icon">üõí</span>–ú–∞—Ä–∫–µ—Ç</div>
    <div class="nav-item" onclick="showTab('profile', this)"><span class="nav-icon">üë§</span>–ö–∞–±–∏–Ω–µ—Ç</div>
    <div class="nav-item" onclick="showTab('wallet', this)"><span class="nav-icon">üí≥</span>–ö–æ—à–µ–ª–µ–∫</div>
</div>

<script>
    let tg = window.Telegram.WebApp;
    tg.expand();
    
    // –ü–æ–¥–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö —é–∑–µ—Ä–∞
    const user = tg.initDataUnsafe.user;
    if (user) {
        document.getElementById('u-name').innerText = user.first_name;
        document.getElementById('u-id').innerText = user.id;
    }

    function showTab(id, el) {
        document.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active'));
        document.getElementById(id).classList.add('active');
        document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
        el.classList.add('active');
    }

    function buy(name, price) {
        tg.showConfirm(`–í—ã –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç–µ –ø–æ–∫—É–ø–∫—É ${name} –∑–∞ ${price}$?`, (ok) => {
            if(ok) tg.showAlert("–û—à–∏–±–∫–∞: –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤. –ü–æ–ø–æ–ª–Ω–∏—Ç–µ –±–∞–ª–∞–Ω—Å –≤ —Ä–∞–∑–¥–µ–ª–µ –ö–æ—à–µ–ª–µ–∫.");
        });
    }

    function sendToBot(action) {
        tg.sendData(action); // –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ç–µ–∫—Å—Ç –±–æ—Ç—É
        tg.close(); // –ó–∞–∫—Ä—ã–≤–∞–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞
    }
</script>
</body>
</html>